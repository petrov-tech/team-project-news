{"mappings":"AAEaA,SAASC,uBAAuB,QAAQ,GCArD,MAAMC,EAAYC,cAAc,QACVA,cAAc,mBACbA,cAAc,+BAErC,IAAIC,EAAO,GAEXC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUJ,IAC5CK,kBAAkBL,GAClBF,EAAUQ,iBAAiB,SAE3B,SAAuBC,GACnB,GAA0B,WAAtBA,EAAEC,OAAOC,SACb,OAEkBF,EAAEC,OAAOE,eACjBC,UAAUC,QAAQ,kCAAmC,0CAC/DZ,EAAKa,KAAKC,Q,IAGdhB,EAAUQ,iBAAiB,SAC3B,WACK,GAA0B,WAAtBC,EAAEC,OAAOC,SACd,OAEkBF,EAAEC,OAAOE,eACjBC,UAAUC,QAAQ,yCAA0C,mCACtEZ,EAAKe,OAAOD,QAAQE,MAAO,E,IAI3BC,KAAKN,UAAUO,IAAIC,aAAaC","sources":["src/js/markup/index.js","src/favorite.js"],"sourcesContent":["\n\nconst news = document.getElementsByClassName(\"news\")[0]\n\nconst allCardsOnPage = []\nlet paginationKoef = 4\nlet numberPages = 1\nlet orientation = \"\"\nconst feeltImg = \"\"\nlet massPageCards = []\n\n\n\n// перехід між сторінками createCardsToHtml([] ,3), має бути контейнер з класом news\nfunction createCardsToHtml(mass = allCardsOnPage, page = 1) {    \n    orientationFromBody()    \n    mass.map((elem) => {\n        if (elem.idCards) {return allCardsOnPage.push(elem)}        \n        const mass = transformToFormat(elem)        \n        allCardsOnPage.push(mass)        \n    }).join(\"\")    \n    \n    const startMass = page * paginationKoef - paginationKoef \n    numberPages = allCardsOnPage.length / paginationKoef    \n    massPageCards = allCardsOnPage.slice(startMass, startMass + paginationKoef)  \n    \n    getMarkup(massPageCards,startMass)\n}\n// перехід між сторінками createCardsLast([] ,99,100), має бути контейнер з класом news\nfunction createCardsLast(mass , page = 100, maxPage = 100) {    \n    orientationFromBody()    \n    mass.map((elem) => {\n        if (elem.idCards) {return allCardsOnPage.push(elem)}        \n        const mass = transformToFormat(elem)        \n        allCardsOnPage.push(mass)        \n    }).join(\"\")    \n    \n    \n    const startMass = (maxPage - page + 1) * paginationKoef - paginationKoef  \n    numberPages = maxPage - (allCardsOnPage.length / paginationKoef)  \n    \n\n    massPageCards = allCardsOnPage.slice(startMass, startMass + paginationKoef)  \n    \n    getMarkup(massPageCards,startMass)\n}\n\n// вертає HTML розмітку без пагінації\nfunction loadCardsHtml(mass) {\n    return \"<ul class='list-news'>\" + mass.map((elem) => {\n        return createCards(elem)\n     }).join(\"\") + \"</ul>\"\n\n}\nfunction orientationFromBody() {\n    const widthBody = document.body.clientWidth\n    \n    if (widthBody > 1280) {\n        orientation ='desktop'\n        paginationKoef = 8\n    } else if (widthBody > 760) {\n        orientation ='tablet'\n        paginationKoef = 7\n    } else {orientation ='mobile'\n        paginationKoef = 4\n    }\n    \n}\n\nfunction getMarkup(massPageCards) {       \n   const mass = getHtmlMarkup(massPageCards)  \n    news.innerHTML = \"\"\n    news.insertAdjacentHTML(\"beforeend\", mass) \n}\nfunction getHtmlMarkup(massPageCards) {\n    return \"<ul class='list-news'>\" + massPageCards.map((elem, i) => {        \n        if (i === 0) {\n            if (orientation === 'mobile') { return addWetter(elem) }                      \n            return createCards(elem)\n        } \n        else if (i === 1) { if (orientation === 'tablet') { return addWetter(elem) } }\n        else if (i === 2) { if (orientation === 'desktop') { return addWetter(elem) } }        \n        return createCards(elem)\n    }).join(\"\") + \"</ul>\"\n}\nfunction transformToFormat({ abstract, headline, web_url, multimedia, pub_date, title, created_date, url,section_name,section,uri,media,published_date,id }) {\n    \n    let imgUrl = \"\"\n    let titleFormt = \"\"\n    let dataFormt = \"\"\n    let urlFormt = \"\"\n    let sectionFormt = \"\"\n    let idCards = \"\"\n\n    if (multimedia) {                \n        if (headline) {\n            // масив за пошуком слова\n            titleFormt = headline.main;\n            imgUrl = getFormatImg(multimedia[multimedia.length - 1].url);\n            dataFormt = pub_date;\n            urlFormt = web_url;\n            sectionFormt = section_name;\n            idCards = uri\n        }\n        else {\n            // масив за пошуком категорією\n            titleFormt = title;\n            imgUrl = multimedia[multimedia.length - 2].url;\n            dataFormt = created_date;\n            urlFormt = url;\n            sectionFormt = section;\n            idCards = uri\n        }\n    }\n    else  {        \n\n        // масив за популярним\n        titleFormt = title;        \n        dataFormt = published_date;\n        urlFormt = url;\n        sectionFormt = section;\n        idCards = id\n\n        // танці з бубном через media-metadata\n        if (media.length === 0) {\n            imgUrl = feeltImg;\n        } else {\n            const value = media[0];        \n            const myObject = value['media-metadata'];        \n            const lastKey = Object.keys(myObject)[Object.keys(myObject).length - 1];        \n            const lastValue = myObject[lastKey].url;        \n            imgUrl = lastValue\n        }        \n    }\n    \n    dataFormt = getDataFormat(dataFormt)\n    const paragraf = getFormatParagraf(abstract)\n\n    // тут якщо читали або фаворіт по ід провіряти\n\n  return  ({idCards,sectionFormt,titleFormt,paragraf,dataFormt,urlFormt,imgUrl})\n}\n\nfunction createCards({  urlFormt , sectionFormt,imgUrl,titleFormt,paragraf,dataFormt, idCards,toRead = false,toFavorite = false }) {\n    if (toRead) {toRead = \"cardsRead\"} else toRead = \"\"\n    if (toFavorite) {toFavorite = \"cardsFavorite\"} else toFavorite = \"\"    \n    return `\n    <li>\n    <article class=\"item-news__article ${toRead}\" data-id=\"${idCards} \">    \n     <div class=\"item-news__wrapper-img\">\n        <img class=\"item-news__img\"\n                          src=\"${imgUrl}\"\n                          alt=\"\">\n                      <p class=\"item-news__category\">${sectionFormt}</p>        \n                      <button type=\"button\" class=\"item-news__add-to-favorite ${toFavorite} \">\n                      <span class=\"item-news__add-to-favorite-btn\">Add to favorite\n                         </span>\n\t\t\t\t\t\t\t\t<svg class=\"item-news__block-icon active-news-icon\"\n\t\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 37 32\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</svg></span>\n\n                        <span class=\"item-news__add-to-favorite-btn-remove\">Remove from favorite\n                         \n                      </button>                      \n                  </div>\n                  <div class=\"item-news__wrapper-text\">\n                  <h2 class=\"item-news__title\">\n                      ${titleFormt}\n                  </h2>\n                  <p class=\"item-news__description\">\n                      ${paragraf}</p>\n                  </div>\n                  <div class=\"item-news__info\">\n                      <span class=\"item-news__info-date\">${dataFormt}</span>\n                      <a target=\"_blank\" class=\"item-news__info-link\" href=\"${\n                        urlFormt\n                      }\">Read more</a></div>                    \n    </article>\n    </li>\n    `        \n}\n\n\nfunction getFormatParagraf(p) {\n    return p.slice(0,115) + \"...\"\n}\n\nfunction getDataFormat(time) {\n    const date = new Date(time)\n    const day = date.getUTCDate().toString().padStart(2, '0');\n    const month = (date.getUTCMonth()+1).toString().padStart(2, '0');\n    const year = date.getFullYear().toString().slice(2,4);    \n    return `${day}/${month}/${year} `   \n}\n\nfunction addWetter(elem) {\n    // return massPageCards.push(лі погода) \n    \n    return   `<li><div class=\"weather\"><div class=\"weather__info\"><span class=\"weather__deg\"></span><div class=\"weather__geo\"><span class=\"weather__value\"></span>\n            <p class=\"weather__location\"><span class=\"weather__city\"></span></p></div></div><img class=\"weather__img\" /><div class=\"weather__date\">\n        <p class=\"weather__day\"></p><p class=\"weather__year\"></p></div><a href=\"https://sinoptik.ua/\" class=\"weather__link\" target=\"_blank\" rel=\"noreferrer noopener\">weather for week</a></div></li>` + createCards(elem)\n    \n}\nfunction getFormatImg(e) {\n    return \"https://static01.nyt.com/\"+ e\n}\nfunction deleteCardsForNewSearch() {\n\n    news.innerHTML = \"\"\n    allCardsOnPage.length = 0\n}\nexport {allCardsOnPage,orientation,massPageCards,numberPages, createCardsToHtml, deleteCardsForNewSearch,loadCardsHtml,createCardsLast}","import createCards from \"./js/markup/index\";\n\nconst container = querySelector(\".new\");\nconst containerCard = querySelector(\".container-card\");\nconst toFavouriteBtn = querySelector(\".item-news__add-to-favorite\");\n\nlet data = [];\n\nlocalStorage.setItem(\"data\", JSON.stringify(data));\ncreateCardsToHtml(data);\ncontainer.addEventListener('click', addTofavorite);\n \nfunction addTofavorite(e) {\n    if (e.target.nodeName !== \"BUTTON\") {\n    return;\n    }    \n    const curentBtn = e.target.toFavouriteBtn;   \n    curentBtn.classList.replace(\".item-news__add-to-favorite-btn\", \".item-news__add-to-favorite-btn-remove\");    \n    data.push(idCards);    \n};\n\ncontainer.addEventListener('click', removeFromFavorite);\nfunction removeFromFavorite() {\n     if (e.target.nodeName !== \"BUTTON\") {\n    return;\n    };\n    const curentBtn = e.target.toFavouriteBtn;\n    curentBtn.classList.replace(\".item-news__add-to-favorite-btn-remove\", \".item-news__add-to-favorite-btn\" )\n    data.splice(idCards.index, 1);    \n};\n\nfunction addCurentStylePage() {\n    elem.classList.add(header__page-curent)\n};\naddCurentStylePage()\n\n"],"names":["document","getElementsByClassName","$f2929da3ca31033d$var$container","querySelector","$f2929da3ca31033d$var$data","localStorage","setItem","JSON","stringify","createCardsToHtml","addEventListener","e","target","nodeName","toFavouriteBtn","classList","replace","push","idCards","splice","index","elem","add","header__page","curent"],"version":3,"file":"favorite.eacdbe9d.js.map"}