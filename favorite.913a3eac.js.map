{"mappings":"YACaA,SAASC,uBAAuB,QAAQ,GCCrD,IAAMC,EAAoBC,cAAc,+BAClCC,EAAgBD,cAAc,mBAChCE,EAAa,IACbA,GAAa,GACFC,KAAKC,SAGpBC,aAAaC,QAAQ,aAAcC,KAAKC,UAAUN,IAClDO,kBAAkBC,MAClBX,EAAkBY,iBAAiB,SAEnC,WACIT,GAAa,EACbH,EAAkBa,YAAc,uBAChCb,EAAkBc,IAAIC,IAAIC,KAAO,+CAIjCd,EAAce,mBAAmB,YAAaC,GADlD,IAAoBA,C,IAUpBlB,EAAkBY,iBAAiB,SAEnC,WACQT,GAAa,C,IAMjBgB,KAAKC,UAAUC,IAAIC,aAAaC,O","sources":["src/js/markup/index.js","src/favorite.js"],"sourcesContent":["\nconst news = document.getElementsByClassName(\"news\")[0]\n\nconst allCardsOnPage = []\nlet paginationKoef = 5\nlet orientation = \"\"\nconst feeltImg = \"\"\nlet massPageCards = []\n\n\n// перехід між сторінками createCardsToHtml([] ,3)\nfunction createCardsToHtml(mass = allCardsOnPage, page = 1) {\n    orientationFromBody()\n    mass.map((elem) => {\n       const mass = transformToFormat(elem)\n        allCardsOnPage.push(mass)        \n    }).join(\"\")    \n\n    const startMass = page * paginationKoef - paginationKoef    \n    massPageCards = allCardsOnPage.slice(startMass, startMass + paginationKoef)  \n    \n    getMarkup(massPageCards,startMass)\n}\nfunction orientationFromBody() {\n    const widthBody = document.body.clientWidth\n    \n    if (widthBody > 1280) {\n        orientation ='desktop'\n        paginationKoef = 8\n    } else if (widthBody > 760) {\n        orientation ='tablet'\n        paginationKoef = 7\n    } else {orientation ='mobile'\n        paginationKoef = 4\n    }\n    \n}\n\nfunction getMarkup(massPageCards) {        \n    \n    const mass = \"<ul class='list-news'>\" + massPageCards.map((elem, i) => {\n        \n        if (i === 0) {\n            if (orientation === 'mobile') {\n                \n                return addWetter(elem)\n            }            \n            \n            return createCards(elem)\n        } \n        else if (i === 1) { if (orientation === 'tablet') { return addWetter(elem) } }\n        else if (i === 2) { if (orientation === 'desktop') { return addWetter(elem) } }        \n        return createCards(elem)\n    }).join(\"\") + \"</ul>\"\n  \n    news.innerHTML = \"\"\n    news.insertAdjacentHTML(\"beforeend\", mass) \n}\n\nfunction transformToFormat({ abstract, headline, web_url, multimedia, pub_date, title, created_date, url,section_name,section,uri,media,published_date,id, }) {\n    \n    let imgUrl = \"\"\n    let titleFormt = \"\"\n    let dataFormt = \"\"\n    let urlFormt = \"\"\n    let sectionFormt = \"\"\n    let idCards = \"\"\n\n    if (multimedia) {                \n        if (headline) {\n            // масив за пошуком слова\n            titleFormt = headline.main;\n            imgUrl = getFormatImg(multimedia[multimedia.length - 1].url);\n            dataFormt = pub_date;\n            urlFormt = web_url;\n            sectionFormt = section_name;\n            idCards = uri\n        }\n        else {\n            // масив за пошуком категорією\n            titleFormt = title;\n            imgUrl = multimedia[multimedia.length - 2].url;\n            dataFormt = created_date;\n            urlFormt = url;\n            sectionFormt = section;\n            idCards = uri\n        }\n    } else {\n        // масив за популярним\n        titleFormt = title;        \n        dataFormt = published_date;\n        urlFormt = url;\n        sectionFormt = section;\n        idCards = id\n\n        // танці з бубном через media-metadata\n        if (media.length === 0) {\n            imgUrl = feeltImg;\n        } else {\n            const value = media[0];        \n            const myObject = value['media-metadata'];        \n            const lastKey = Object.keys(myObject)[Object.keys(myObject).length - 1];        \n            const lastValue = myObject[lastKey].url;        \n            imgUrl = lastValue\n        }        \n    }\n    dataFormt = getDataFormat(dataFormt)\n    const paragraf = getFormatParagraf(abstract)\n\n    // тут якщо читали або фаворіт по ід провіряти\n\n  return  ({idCards,sectionFormt,titleFormt,paragraf,dataFormt,urlFormt,imgUrl})\n}\n\nfunction createCards({  urlFormt , sectionFormt,imgUrl,titleFormt,paragraf,dataFormt, idCards,toRead = false,toFavorite = false }) {\n    \n    return `\n    <li>\n    <article class=\"item-news__article\" data-id=\"${idCards}\">    \n     <div class=\"item-news__wrapper-img\">\n        <img class=\"item-news__img\"\n                          src=\"${imgUrl}\"\n                          alt=\"\">\n                      <p class=\"item-news__category\">${sectionFormt}</p>        \n                      <button type=\"button\" class=\"item-news__add-to-favorite \">\n                      <span class=\"item-news__add-to-favorite-btn\">Add to favorite\n                         </span>\n\t\t\t\t\t\t\t\t<svg class=\"item-news__block-icon active-news-icon\"\n\t\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 37 32\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</svg></span>\n                      </button>\n                      \n                  </div>\n                  <div class=\"item-news__wrapper-text\">\n                  <h2 class=\"item-news__title\">\n                      ${titleFormt}\n                  </h2>\n                  <p class=\"item-news__description\">\n                      ${paragraf}</p>\n                  </div>\n                  <div class=\"item-news__info\">\n                      <span class=\"item-news__info-date\">${dataFormt}</span>\n                      <a target=\"_blank\" class=\"item-news__info-link\" href=\"${\n                        urlFormt\n                      }\">Read more</a></div>                    \n    </article>\n    </li>\n    `        \n}\n\n\nfunction getFormatParagraf(p) {\n    return p.slice(0,115) + \"...\"\n}\n\nfunction getDataFormat(time) {\n    const date = new Date(time)\n    const day = date.getUTCDate().toString().padStart(2, '0');\n    const month = (date.getUTCMonth()+1).toString().padStart(2, '0');\n    const year = date.getFullYear().toString().slice(2,4);    \n    return `${day}/${month}/${year} `   \n}\n\nfunction addWetter(elem) {\n    // return massPageCards.push(лі погода) \n    return    createCards(elem)\n    return   \"<li>wetter</li>\" + createCards(elem)\n    \n}\nfunction getFormatImg(e) {\n    return \"https://static01.nyt.com/\"+ e\n}\nfunction deleteCardsForNewSearch() {\n\n    news.innerHTML = \"\"\n    allCardsOnPage.length = 0\n}\nexport {allCardsOnPage,orientation, createCardsToHtml, deleteCardsForNewSearch}","import createCards from \"./js/markup/index\";\n\nconst addToFavouriteBtn = querySelector(\".item-news__add-to-favorite\");\nconst containerCard = querySelector(\".container-card\");\nlet toFavorite = [];\nif (toFavorite = true) {\n    toFavorite.push[idCards];\n};\n\nlocalStorage.setItem(\"toFavorite\", JSON.stringify(toFavorite));\ncreateCardsToHtml(data);\naddToFavouriteBtn.addEventListener('click', addTofavorite);\n\nfunction addTofavorite() {\n    toFavorite = true;\n    addToFavouriteBtn.textContent = \"Remove from favorite\";\n    addToFavouriteBtn.svg.use.href = \"./images/symbol-defs.svg#icon-removefavorite\";  \n    insertCard();\n};\nfunction insertCard(createCards) {     \n    containerCard.insertAdjacentHTML(\"beforeend\", createCards);     \n};\n\n// addToFavouriteBtn.addEventListener('click', changeBtn);\n// function changeBtn() {\n//     addToFavouriteBtn.textContent = \"Remove from favorite\";\n//     addToFavouriteBtn.svg.use.href = \"./images/symbol-defs.svg#icon-removefavorite\";  \n// };\n\naddToFavouriteBtn.addEventListener('click', removeFromFromavorite);\n\nfunction removeFromFromavorite() {\n    if (toFavorite = false) {\n    toFavorite.splice(idCards.index, 1);\n    };\n};\n\nfunction addCurentStylePage() {\n    elem.classList.add(header__page-curent)\n};\naddCurentStylePage()\n\n"],"names":["document","getElementsByClassName","$19661b0c25203147$var$addToFavouriteBtn","querySelector","$19661b0c25203147$var$containerCard","$19661b0c25203147$var$toFavorite","push","idCards","localStorage","setItem","JSON","stringify","createCardsToHtml","data","addEventListener","textContent","svg","use","href","insertAdjacentHTML","createCards1","elem","classList","add","header__page","curent"],"version":3,"file":"favorite.913a3eac.js.map"}